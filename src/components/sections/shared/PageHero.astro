---
import Button from "../../ui/Button.astro";

interface Cta {
  label: string;
  href: string;
}

interface Image {
  src: string;
  alt: string;
}

interface Stat {
  number?: string;
  label: string;
}

interface ServiceBox {
  icon: any;
  title: string;
  description: string;
}

interface Props {
  id?: string;
  slot?: string;
  eyebrow?: string;
  title?: string;
  titleHtml?: string;
  description?: string;
  primaryCta?: Cta;
  secondaryCta?: Cta;
  stats?: Stat[];
  serviceBoxes?: ServiceBox[];
}

const {
  id = "page-hero",
  slot,
  eyebrow,
  title,
  titleHtml,
  description,
  primaryCta,
  secondaryCta,
  stats = [],
  serviceBoxes = [],
} = Astro.props;
---

<section
  slot={slot}
  id={id}
  class="relative flex items-center py-24 md:py-32 lg:py-64 overflow-hidden"
>
  <div
    class={`container relative z-20 ${serviceBoxes.length ? "grid lg:grid-cols-[1fr_1fr] gap-4 xl:gap-12 items-start" : "grid gap-12 items-center"}`}
  >
    <div class="text-primary flex flex-col gap-8 max-w-2xl">
      {
        eyebrow ? (
          <p class="uppercase px-3 py-2 w-fit text-accent-primary/70 text-xs font-bold border-accent-primary/70 border rounded tracking-widest">
            {eyebrow}
          </p>
        ) : null
      }
      {
        titleHtml ? (
          <h1
            class="font-semibold text-primary text-4xl sm:text-5xl xl:text-6xl mt-4"
            set:html={titleHtml}
          />
        ) : title ? (
          <h1 class="font-semibold text-primary text-4xl sm:text-5xl lg:text-6xl mt-4">{title}</h1>
        ) : null
      }
      {
        description ? (
          <p class="mt-4 text-secondary text-sm sm:text-base leading-relaxed">{description}</p>
        ) : null
      }

      {
        primaryCta || secondaryCta ? (
          <div class="mt-6 flex flex-col gap-3 sm:flex-row sm:items-center">
            {primaryCta ? (
              <Button variant="primary" href={primaryCta.href} size="md">
                {primaryCta.label}
              </Button>
            ) : null}
            {secondaryCta ? (
              <Button
                variant="outline"
                href={secondaryCta.href}
                class="hidden sm:inline-flex"
                size="md"
              >
                {secondaryCta.label}
              </Button>
            ) : null}
          </div>
        ) : null
      }

      {
        stats.length ? (
          <div class="mt-8 flex flex-wrap gap-x-8 gap-y-2">
            {stats.map((stat) => (
              <div class="flex items-center gap-2">
                <svg
                  class="w-4 h-4 text-accent-primary shrink-0"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"
                  />
                </svg>
                <span class="text-sm text-secondary/90">{stat.label}</span>
              </div>
            ))}
          </div>
        ) : null
      }
    </div>

    {
      serviceBoxes.length ? (
        <div class="hidden lg:grid lg:grid-cols-2 gap-8 pt-24">
          {serviceBoxes.map((box, index) => (
            <div
              class={`bg-background-darker h-fit border border-white/10 rounded p-6  transition-all hover:border-accent-primary hover:shadow-lg hover:shadow-accent-primary/5 w-full ${index % 2 === 0 ? "lg:translate-y-8" : ""}`}
            >
              <div class="text-accent-primary mb-4">
                <box.icon class="w-7 h-7 xl:w-8 xl:h-8" />
              </div>
              <h3 class="text-primary font-semibold text-lg xl:text-xl mb-2">{box.title}</h3>
              <p class="text-secondary/80 text-sm leading-snug">{box.description}</p>
            </div>
          ))}
        </div>
      ) : null
    }
  </div>
</section>
