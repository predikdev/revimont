---
import SectionWrapper from "../../ui/SectionWrapper.astro";
import Button from "../../ui/Button.astro";
import {
  BadgeCheck,
  FileText,
  Receipt,
  CalendarCheck,
  ShieldCheck,
  Wrench,
  ChevronRight,
} from "@lucide/astro";

interface Feature {
  title: string;
  description: string;
  icon: typeof BadgeCheck;
}

interface Stat {
  value: string;
  label: string;
}

interface Props {
  eyebrow?: string;
  title?: string;
  description?: string;
  features?: Feature[];
  stats?: Stat[];
  ctaHref?: string;
  ctaLabel?: string;
}

const defaultFeatures: Feature[] = [
  {
    title: "Certifikovaný revizní technik",
    description:
      "Revize provádí odborník s platnou kvalifikací skupiny E dle vyhlášky č. 50/1978 Sb. Výsledek je právně platný a plně akceptovaný pojišťovnami i úřady.",
    icon: BadgeCheck,
  },
  {
    title: "Revizní zpráva v ceně",
    description:
      "U nás neplatíte za papír navíc. Ke každé zakázce od nás obdržíte kompletní, přehlednou a zákonem vyžadovanou revizní zprávu bez jakýchkoliv skrytých příplatků.",
    icon: FileText,
  },
  {
    title: "Transparentní ceny",
    description:
      "Cenovou nabídku od nás dostanete vždy položeně rozepsanou tak, abyste přesně věděli, co platíte. Transparentnost je pro nás klíčová pro vaši maximální spokojenost.",
    icon: Receipt,
  },
  {
    title: "Dodržujeme termíny",
    description:
      "Víme, jak je váš čas drahý, proto dohodnutý termín zahájení i dokončení prací bereme jako závazek. O průběhu vás informujeme včas a zcela proaktivně.",
    icon: CalendarCheck,
  },
  {
    title: "Platný doklad pro pojišťovny",
    description:
      "Naše revizní zprávy splňují veškeré přísné legislativní požadavky. Jsou plně akceptovány pojišťovnami, správci budov i veškerými státními orgány v ČR.",
    icon: ShieldCheck,
  },
  {
    title: "Poradenství k závadám",
    description:
      "Zjistíme-li při revizi závady, vše vám srozumitelně vysvětlíme a navrhneme optimální řešení nápravy. Pomůžeme i s jejich následnou bezpečnou realizací.",
    icon: Wrench,
  },
];

const defaultStats: Stat[] = [
  { value: "10+", label: "Let zkušeností" },
  { value: "300+", label: "Dokončených zakázek" },
  { value: "100%", label: "Akceptace úřady" },
  { value: "Klatovy", label: "A široké okolí" },
];

const {
  eyebrow = "NAŠE PŘEDNOSTI",
  title = "Proč si vybrat právě nás?",
  description = "Výběr revizního technika není o nejnižší ceně. Jde o platnost protokolu, odbornost a klid v hlavě.",
  features = defaultFeatures,
  stats = defaultStats,
  ctaHref = "/kontakt",
  ctaLabel = "Nezávazná poptávka",
} = Astro.props;
---

<SectionWrapper background="light" withGrid={true}>
  <!-- Header -->
  <div class="mb-12">
    <p class="mb-3 text-sm font-semibold tracking-wide uppercase text-accent-primary">
      {eyebrow}
    </p>
    <div class="grid items-start gap-8 md:grid-cols-2">
      <h2 class="font-sora text-4xl font-bold leading-tight text-neutral-800 md:text-5xl">
        {title}
      </h2>
      <div class="md:border-l-2 md:border-accent-primary md:pl-12">
        <p class="text-lg leading-relaxed text-neutral-600">
          {description}
        </p>
      </div>
    </div>
  </div>

  <!-- Feature cards grid -->
  <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
    {
      features.map((feature) => (
        <div class="flex gap-4 rounded-xl border border-neutral-200 bg-background p-6 shadow-sm transition-shadow duration-200 hover:shadow-md">
          <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-accent-primary/10">
            <feature.icon class="h-5 w-5 text-accent-primary" />
          </div>
          <div>
            <h3 class="font-semibold text-neutral-800">{feature.title}</h3>
            <p class="mt-2 text-sm leading-relaxed text-neutral-500">{feature.description}</p>
          </div>
        </div>
      ))
    }
  </div>

  <!-- Stats bar -->
  <div
    class="mt-10 flex flex-col items-center justify-between gap-10 border-t border-neutral-200 pt-8 lg:flex-row"
  >
    <div class="grid w-full grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-4 md:gap-x-8 lg:flex-1">
      {
        stats.map((stat, index) => (
          <div
            class:list={["flex flex-col", index > 0 && "md:border-l md:border-neutral-200 md:pl-8"]}
          >
            <span class="font-sora text-2xl font-bold text-accent-primary sm:text-3xl">{stat.value}</span>
            <span class="text-xs font-semibold tracking-wide uppercase text-neutral-500">
              {stat.label}
            </span>
          </div>
        ))
      }
    </div>

    <!-- CTA button -->
    <Button href={ctaHref} variant="primaryLight" size="md">
      {ctaLabel}
      <ChevronRight class="h-4 w-4" />
    </Button>
  </div>
</SectionWrapper>
