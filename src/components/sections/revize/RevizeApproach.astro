---
import SectionWrapper from "../../ui/SectionWrapper.astro";
import SectionHeader from "../../ui/SectionHeader.astro";
import { CalendarCheck, Activity, FileText, Check } from "@lucide/astro";

const steps = [
  {
    number: "01",
    icon: CalendarCheck,
    title: "Objednávka a termín",
    description:
      "Kontaktujete nás, upřesníme rozsah revize a domluvíme termín návštěvy. Přijedeme připraveni na celou instalaci.",
    bullets: [
      "Telefonická nebo online poptávka",
      "Upřesnění rozsahu revize",
      "Potvrzení termínu výjezdu",
    ],
  },
  {
    number: "02",
    icon: Activity,
    title: "Revize a měření",
    description:
      "Revizní technik provede vizuální kontrolu, série odborných měření a funkční zkoušky dle platných norem ČSN.",
    bullets: [
      "Vizuální kontrola instalace",
      "Měření izolačních odporů",
      "Funkční zkoušky přístrojů",
    ],
  },
  {
    number: "03",
    icon: FileText,
    title: "Předání zprávy",
    description:
      "Vyhotovíme officiální revizní protokol s razítkem, platný pro pojišťovnu i úřady. Doporučíme odstranění případných závad.",
    bullets: [
      "Protokol s razítkem a podpisem",
      "Doporučení k opravám závad",
      "Platnost zprávy dle normy",
    ],
  },
];
---

<SectionWrapper background="light" withGrid>
  <SectionHeader
    eyebrow="Jak pracujeme"
    title="Jak probíhá revize"
    description="Od objednávky po vydání platného protokolu. Rychle, přesně a transparentně."
    background="light"
    descWidth="narrow"
  />

  <div class="mt-12 grid gap-6 md:grid-cols-3">
    {
      steps.map((step) => (
        <div class="group relative rounded-xl border border-neutral-200 bg-white p-8 shadow-sm transition-shadow duration-200 hover:shadow-md">
          <span
            class="font-sora group-hover:text-accent-primary/40 absolute top-6 right-6 text-5xl leading-none font-bold text-neutral-100 transition-colors duration-300 select-none"
            aria-hidden="true"
          >
            {step.number}
          </span>

          <div
            class="bg-accent-primary/10 group-hover:bg-accent-primary/[0.18] mb-6 flex h-12 w-12 items-center justify-center rounded-full transition-colors duration-300"
            aria-hidden="true"
          >
            <step.icon class="text-accent-primary h-5 w-5 transition-transform duration-300 group-hover:scale-110" />
          </div>

          <h3 class="font-sora mb-3 text-xl font-bold text-neutral-900">
            {step.title}
          </h3>
          <p class="mb-6 text-sm leading-relaxed text-neutral-600">
            {step.description}
          </p>

          <ul class="space-y-2">
            {step.bullets.map((bullet) => (
              <li class="flex items-center gap-3">
                <span
                  class="bg-accent-primary/10 border-accent-primary/30 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border"
                  aria-hidden="true"
                >
                  <Check class="text-accent-primary h-3 w-3" />
                </span>
                <span class="text-sm font-medium text-neutral-700">
                  {bullet}
                </span>
              </li>
            ))}
          </ul>
        </div>
      ))
    }
  </div>
</SectionWrapper>
