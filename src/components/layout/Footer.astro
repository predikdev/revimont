---
import { MapPin, Phone, Mail } from "@lucide/astro";
import { COMPANY, MAPS_EMBED_URL, MAPS_SEARCH_URL } from "../../data/company";

const year = new Date().getFullYear();

interface Props {
  eyebrow?: string;
  title?: string;
  description?: string;
}

const { eyebrow } = Astro.props;
---

<footer
  class="border-tr border-tl relative overflow-hidden rounded-lg bg-neutral-800"
>
  <div
    class="mask-image-gradient bg-grid-pattern-dark pointer-events-none absolute inset-0 opacity-20"
  >
  </div>

  <section class="relative z-10 py-20">
    <div class="container">
      <div class="grid min-w-0 items-center gap-12 lg:grid-cols-[1fr_1fr]">
        <div class="space-y-6">
          {
            eyebrow ? (
              <p class="text-accent-primary/70 border-accent-primary/70 w-fit rounded border px-3 py-2 text-xs font-bold tracking-widest uppercase">
                {eyebrow}
              </p>
            ) : null
          }

          <h2 class="mb-6 text-4xl font-bold text-neutral-50 md:text-5xl">
            Sídlíme v Klatovech
          </h2>

          <p class="mb-12 text-lg leading-relaxed text-neutral-300/80">
            Zastavte se za námi probrat váš projekt. Naše kancelář je snadno
            dostupná a parkování je možné v blízkém okolí.
          </p>

          <div class="space-y-6">
            <div class="flex items-start gap-4">
              <div
                class="bg-background/10 flex h-12 w-12 shrink-0 items-center justify-center rounded-lg"
              >
                <MapPin class="text-accent-primary h-5 w-5" />
              </div>
              <div>
                <a
                  href={MAPS_SEARCH_URL}
                  class="group block"
                  aria-label={`Otevřít adresu ${COMPANY.address.streetAddress}, ${COMPANY.address.postalCode} ${COMPANY.address.addressLocality} v mapách`}
                >
                  <h3
                    class="group-hover:text-accent-primary mb-1 font-semibold text-neutral-50 transition-colors"
                  >
                    {COMPANY.address.streetAddress}
                  </h3>
                  <p
                    class="group-hover:text-accent-primary text-neutral-300/80 transition-colors"
                  >
                    {COMPANY.address.postalCode}
                    {COMPANY.address.addressLocality}
                  </p>
                </a>
              </div>
            </div>

            <div class="flex items-start gap-4">
              <div
                class="bg-background/10 flex h-12 w-12 shrink-0 items-center justify-center rounded-lg"
              >
                <Phone class="text-accent-primary h-5 w-5" />
              </div>
              <div>
                <a
                  href={`tel:${COMPANY.phoneHref}`}
                  class="group block"
                  aria-label={`Zavolat na číslo ${COMPANY.phoneDisplay}`}
                >
                  <h3
                    class="group-hover:text-accent-primary mb-1 font-semibold text-neutral-50 transition-colors"
                  >
                    Telefon
                  </h3>
                  <p
                    class="group-hover:text-accent-primary text-neutral-300/80 transition-colors"
                  >
                    {COMPANY.phoneDisplay}
                  </p>
                </a>
              </div>
            </div>

            <div class="flex items-start gap-4">
              <div
                class="bg-background/10 flex h-12 w-12 shrink-0 items-center justify-center rounded-lg"
              >
                <Mail class="text-accent-primary h-5 w-5" />
              </div>
              <div>
                <a
                  href={`mailto:${COMPANY.email}`}
                  class="group block"
                  aria-label={`Napsat e-mail na ${COMPANY.email}`}
                >
                  <h3
                    class="group-hover:text-accent-primary mb-1 font-semibold text-neutral-50 transition-colors"
                  >
                    E-mail
                  </h3>
                  <p
                    class="group-hover:text-accent-primary text-neutral-300/80 transition-colors"
                  >
                    {COMPANY.email}
                  </p>
                </a>
              </div>
            </div>
          </div>
        </div>

        <div class="relative aspect-4/3 w-full min-w-0 rounded-lg shadow-lg">
          <iframe
            src={MAPS_EMBED_URL}
            class="absolute inset-0 h-full w-full rounded-2xl"
            style="border:0;"
            allowfullscreen
            allow="fullscreen"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            title={`Mapa - ${COMPANY.address.streetAddress}, ${COMPANY.address.addressLocality}`}
          ></iframe>
        </div>
      </div>
    </div>
  </section>

  <div class="relative z-10 py-6">
    <div class="container">
      <div
        class="flex flex-col items-center justify-between gap-4 border-t border-neutral-500 pt-8 text-sm text-neutral-300 md:flex-row"
      >
        <p>© {year} Revimont Klatovy. Všechna práva vyhrazena.</p>
        <div class="flex gap-6">
          <a
            href="/ochrana-osobnich-udaju"
            class="hover:text-accent-primary transition-colors"
          >
            Ochrana osobních údajů
          </a>
          <button
            type="button"
            onclick="window.CookieConsent && window.CookieConsent.showPreferences()"
            class="hover:text-accent-primary cursor-pointer transition-colors"
          >
            Nastavení cookies
          </button>
        </div>
      </div>
    </div>
  </div>
</footer>
